global:
  scrape_interval: 60s # By default, scrape targets every 15 seconds.

  # For Prometheus federation
  external_labels:
    origin_prometheus: podman-01

scrape_configs:
  - job_name: "prometheus"
    scrape_interval: 60s
    static_configs:
      - targets: ["localhost:9090"]

  - job_name: "node_exporter"
    static_configs:
      - targets: ["node-exporter:9100"]
    relabel_configs:
      - source_labels: [__address__]
        regex: ".*"
        target_label: instance
        replacement: "podman-01"

  - job_name: "podman_exporter"
    static_configs:
      - targets: ["192.168.86.143:9882"]
    metrics_path: "/metrics"
    relabel_configs:
      - source_labels: [__address__]
        regex: ".*"
        target_label: instance
        replacement: "podman-01"

  - job_name: postgres
    static_configs:
      - targets: ["192.168.86.143:9187"]
    relabel_configs:
      - source_labels: [__address__]
        regex: ".*"
        target_label: instance
        replacement: "postgresql.homelab.lan"

  #  - job_name: "mysqld_exporter"
  #    static_configs:
  #      - targets: ["192.168.86.74:9104"]
  #    tls_config:
  #      insecure_skip_verify: true
  #    relabel_configs:
  #      - source_labels: [__address__]
  #        regex: ".*"
  #        target_label: instance
  #        replacement: "podman-01"
